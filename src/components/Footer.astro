---

import getNavLinks from '../helpers/getNavLinks'

import FooterLinks from "./FooterLinks.astro";

import { Icon } from "astro-icon/components";

const { title, description, copyright, contacts, socialLinks, infoLinks, menu } = Astro.props

const { secondMenu } = getNavLinks(menu)

---

<footer
  class="text-gray-500 bg-white px-4 py-5 container-wrapper md:px-8"
>
  <div class="gap-6 justify-between md:flex">
    <div class="flex-1">
      <div class="max-w-xs">
        <a href="/" class="text-2xl font-bold text-gray-800">{title}</a>
        <p class="leading-relaxed mt-2">
          {description}
        </p>
        <ul class="mt-6 flex flex-wrap gap-x-10 space-y-3 items-center">
          {
            contacts?.map((contact) => {
              return (
                <li class="flex items-center gap-x-3">
                  <div class="flex-none text-gray-400">
                    <Icon name={contact.icon} class="w-6 h-6" />
                  </div>
                  <a
                    href={`${contact.type}:${contact.value.replace(/\s/g, "")}`}
                  >
                    {contact.value}
                  </a>
                </li>
              );
            })
          }
        </ul>
      </div>
    </div>
    <div
      class="gap-4 mt-10 space-y-6 justify-between grid grid-cols-1 md:grid-cols-2 md:space-y-0 md:mt-0"
    > 
      <div class="space-y-4">
          <h5 class="text-gray-800 font-bold text-xl">Навигация</h5>
          <ul class="space-y-4">
            <FooterLinks links={menu} />
          </ul>
      </div>
      {
        secondMenu?.map(({name, list}) => {
          return (<div class="space-y-4">
                  <h5 class="text-gray-800 font-bold text-xl">{name}</h5>
                  <ul class="space-y-4">
                    <FooterLinks links={list} />  
                  </ul>
                </div>)
        })
      }
      <div class="space-y-4">
        <h5 class="text-gray-800 font-bold text-xl">Информация</h5>
        <ul class="space-y-4">
          <FooterLinks links={infoLinks} />
        </ul>
      </div>
      <div class="space-y-4">
        <h5 class="text-gray-800 font-bold text-xl">Соц. сети</h5>
        <ul class="flex space-x-2">
        
            {
              socialLinks.map(({link, icon}) => <li><a href={link.url} class="hover:underline hover:text-amber-900 cursor-pointer"
  ><Icon name={icon} class="w-10 h-10 text-gray-800" /></a></li>)
            }
        </ul>
      </div>
    </div>
  </div>
  <div class="mt-8 py-6 border-t items-center justify-between sm:flex">
    <div class="mt-4 sm:mt-0">
      &copy; {new Date().getFullYear()} {copyright}
    </div>
  </div>
</footer>
